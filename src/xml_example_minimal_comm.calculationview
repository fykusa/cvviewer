<?xml version="1.0" encoding="UTF-8"?>
<Calculation:scenario xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:Calculation="http://www.sap.com/ndb/BiModelCalculation.ecore" schemaVersion="2.3" id="MINIMAL_TEST" applyPrivilegeType="NONE" checkAnalyticPrivileges="false" defaultClient="crossClient" defaultLanguage="$$language$$" hierarchiesSQLEnabled="false" translationRelevant="false" visibility="reportingEnabled" calculationScenarioType="TREE_BASED" dataCategory="CUBE" enforceSqlExecution="false" executionSemantic="UNDEFINED" outputViewType="Aggregation">
  <origin/>
  <descriptions defaultDescription="Servicegrade ">
    <comment text="Function:&#x9;&#xD;&#xA;----------------------------&#x9;&#xD;&#xA;Extracts delta informationfor Processmonitor, ADSO IPBSER29.&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;Design:&#x9;&#xD;&#xA;----------------------------&#x9;&#xD;&#xA;Marco Rüttger, K-SIPV-4&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;----------------------------&#x9;&#xD;&#xA;Parameters:&#x9;&#xD;&#xA;STICHTAG timestamp only document changes are considered that are before STICHTAG. Needed just for Full Loads for the history. Not used for Delta loads.&#x9;&#xD;&#xA;STICHTAG_BIS timestamp&#x9;&#xD;&#xA;USE_DELTA flag X (default), if all document Changes have to be considered&#x9;&#xD;&#xA;PACKAGE_FROM int datapackage in ADSO changelog from (including)&#x9;&#xD;&#xA;PACKAGE_TO int datapackage in ADSO changelog to (including)&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;Typical Selection:&#x9;&#xD;&#xA;XX_VWK_EIS_MOD >= (Last Delta Timestamp)&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;Modification History:&#x9;&#xD;&#xA;----------------------------&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;Date CHANGE Author Modification&#x9;&#xD;&#xA;&#x9;&#xD;&#xA;20241212 39223 FG408DJ - fix calculation of VLC_TARGET_VALUE in node VL_with_VA_TG_LT_LP_VR_MD_FI&#x9;&#xD;&#xA;&#x9;adding check of emptyness of VLC_VR_TS_NONULL: (&quot;VLC_VR_TS_NONULL&quot; != '') AND ...&#xD;&#xA;    VLC_VR_TS_NONULL is timestamp of invoicing, when empty = not invoiced, but empty &lt; DUEGI compared later in this expression, what makes no sence when empty&#xD;&#xA;20240822 38907 ,38974  FIJ8NKN In node LP_history a new field ZZGG8_ADDITIVE is activated and forwarded until output&#x9;&#xD;&#xA;20240822 ??? missing HANA change numbers from the past&#x9;&#xD;&#xA;19931, 20340, 20417, 22858, 22982, 23018, 23173, 23189, 23249, 23391, 23776, 24426, 24474, 24483, 26529, 27220, 27905, 29737&#x9;&#xD;&#xA;6439, 12967, 17401, 17548, 17916, 17934, 18090, 18254, 18549, 18684, 19126, 19136, 19144, 19346, 19783, 19787, 19814, 19883,&#x9;&#xD;&#xA;20231128 38752 EHV5BD2 In node VA_history added field VA_LPRIO and forwarded it until output along the two paths through VA_not_full_delivered and VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD.&#x9;&#xD;&#xA;&#x9;In the final Aggregation node added calc. column VLC_LPRIO which is filled from VL_LPRIO if VA_LPRIO is empty.&#xD;&#xA;20231120 38748 EHV5BD2 reverted change 38743&#x9;&#xD;&#xA;20231120 38743 EHV5BD2 In node VL_with_VA_TG_LT_LP_VR_MD_FI adjusted calc. column VLC_PICKDATE by adding &quot;AND &quot;XX_STATUS&quot; > 'C'&quot; in the if clause.&#x9;&#xD;&#xA;20230822 38729 EHV5BD2 In node VL_with_VA_TG_LT_LP_VR_MD_IL_MATR_MARC changed the calculation of columns VLC_PA_STATUS_* to use TG_VACTS instead of TG_ORDERTS. For column VLC_PA_WEEKDAY changed the calculation to TG_VACTS from VA_ERDAT.&#x9;&#xD;&#xA;20230717 38706 EHV5BD2 Adjusted comments for CRV&#x9;&#xD;&#xA;20230628 38680 EHV5BD2 Removed the time calculation for predictive alerting which is now done in the end routine.&#x9;&#xD;&#xA;&#x9;- In node VL_with_VA_TG_LT_LP_VR_MD_IL_MATR_MARC changed the use of VLC_PA_TIME_* to contain the time stamp to be used for calculation rather than the time itself. Calc columns that dependet on these fields i.e. VLC_PA_STATUS_* where adjusted to consider the original time stamps instead of VLC_PA_TIME*. Also added fields VLC_PA_*_CORR to get a final timestamp for status E and 60 in fields VLC_PA_TIME_E/60.&#xD;&#xA;&#x9;- In node Aggregation added columns VLC_PA_TIME_*_CORR to make sure that the output for empty values is alsways '00000000000000'&#xD;&#xA;20230622 38488 EHV5BD2 Adjustments for predictive alerting:&#x9;&#xD;&#xA;&#x9;- removed nodes PA_IPBSERA9_PROJ, PA_IPBSERA9_MED__AGG, PA_IPBSERA9_MED_AGG_AVG, PA_IPBSERA9_AGG, VL_with_VA_TG_LT_LP_VR_MD_IL_PA1, VL_with_VA_TG_LT_LP_VR_MD_IL_PA2 and VL_with_VA_TG_LT_LP_VR_MD_IL_PA3. As a result the following fields are no longer available in node VL_with_VA_TG_LT_LP_VR_MD_FI and following: PA_1PATIME*, PA_2PATIME*, PA_3PATIME*, PAC_FLAG3_* (renamed VPA_FLAG* in node VA_union_VL), PAC_FLAG_S* (renamed VPA_FLAG_S* in node VA_union_VL)&#xD;&#xA;&#x9;- in node VL_with_VA_TG_LT_LP_VR_MD_IL_MATR_MARC and following: removed calculated columns PAC_PATIMEACT*&#xD;&#xA;&#x9;- in node VL_with_VA_TG_LT_LP_VR_MD_IL_MATR_MARC added calc. colums: VLC_PA_TIME_*, VLC_PA_WEEKDAY and VLC_PA_STATUS_* and forwarded these until output with exception of VLC_PA_TIME_28/29/31/32/50/60&#xD;&#xA;&#x9;- in node VL_with_VA_TG_LT_LP_VR_MD_IL and all following removed column PAC_WEEKDAY&#xD;&#xA;&#x9;- in node VA_union_VL: mapped columns PA_ZZ_BE4GEF and PA_PRODH and forwarded these until output&#xD;&#xA;&#x9;- in node &quot;LP_1st_date&quot; added calc. field LPC_MAX_TS_50 and aggregated and renamed to LPA_MAX_TS_50 in node &quot;LP_1st_date_state&quot; and forwarded until &quot;LP_current_with_TSs&quot; where it is used for added column &quot;LPC_TS_GE_50&quot;&#xD;&#xA;&#x9;- in node LP_current_with_TSs: added column LPC_TS_GE_50; forwarded and renamed this column in node LP_agg_to_VL to LPA_MAX_TS_GE_50 and then forwarded it until output&#xD;&#xA;20230531 38596 EHV5BD2 reverted change 38557&#x9;&#xD;&#xA;20230516 38557 EHV5BD2 Node ZZ_ZZSPID_delta: changed from inner join to right outer join&#x9;&#xD;&#xA;20230505 38521 EHV5BD2 reverted change 38517&#x9;&#xD;&#xA;20230503 38517 EHV5BD2 Node ZZ_ZZSPID_delta: changed from inner join to right outer join&#x9;&#xD;&#xA;20230323 38401 EHV5BD2 Node LT_UNION_LTA_KONV: mapped koc_vwk_eis_del_corrected to LT_VWK_EIS_DEL&#x9;&#xD;&#xA;20230124 37525 EHV5BD2 1) Bugfix for tour data in case of deleted delieries for fast orders:&#x9;&#xD;&#xA;&#x9;- In node VA_w_VL: added fields TG_REPDATE, TG_ORDERTS, TG_ORDEREND, TG_TOUR, TG_DUEGI, TG_DUEOC, TG_REPTIME, TG_TOTGT, TG_MIOEGI, TG_BSDATE, TG_BSTIME, TG_BSDATE_ORI and TG_BSTIME_ORI and added _w_VL on each field. These fields are forwarded to VA_VACTS_ALL&#xD;&#xA;&#x9;- In node VA_VACTS_ALL: Added new calculated columns VAC_REPDATE, VAC_ORDERTS, VAC_ORDEREND, VAC_TOUR, VAC_DUEGI, VAC_DUEOC, VAC_REPTIME, VAC_TOTGT, VAC_MIOEGI, VAC_BSDATE, VAC_BSTIME, VAC_BSDATE_ORI and VAC_BSTIME_ORI. These work similar to VAC_VACTS and are forwarded to VA_VACTS_VL and VA_distinct.&#xD;&#xA;&#x9;- In node VA_distinct: changed mapping for the fields from TG_*_wo_VL to VAC_* (for examle source field of TG_TOUR was TG_TOUR_wo_VL and is now changed to VAC_TOUR).&#xD;&#xA;&#x9;2) Adjusted the join of Konverter and delta data to improve performance:&#xD;&#xA;&#x9;- added new node KO_only_delta&#xD;&#xA;&#x9;- in node KO_LTPKONV_JOIN_LAST added new fields: LT_VBELV, LT_POSNV, LT_ERDATV, LT_ERZETV, FA_RFMNG, FA_VBELN, FA_POSNN, FA_MEINS, FA_SOURSYSTEM, FA_LGNUM, XX_ERDATN, XX_ERZETN, VL_SOURSYSTEM, TG_DUEGI, TG_TOTGT, TG_TOTGT and FA_POSNN4_1 and forwarded these until union LT_UNION_LTA_KONV where they are mapped accordingly&#xD;&#xA;&#x9;- added node ZZ_ZZSPID_delta&#xD;&#xA;&#x9;- removed node KO_KONV_only_delta&#xD;&#xA;&#x9;- in node KO_UNION_ZZ added calculated columns from removed node KO_KONV_only_delta: KOC_DRUCK, KOC_VLTYP_KONV, KOC_TS_KONV_CREATE, KOC_TS_KONV_PICK, KOC_SOURCE_ORI, KOC_NISTM_CORRECTED, KOC_VSOLM_CORRECTED, KOC_BDATU_CORRECTED, KOC_BZEIT_CORRECTED, KOC_LGNUM_CORRECTED, KOC_TS_CORRECTED, koc_vwk_eis_del_corrected, KOC_QTS_CORRECTED, KOC_BTS, KOC_ITEMS2, KOC_VBELN_CORRECTED, KOC_POSNR_CORRECTED and KOC_PICKNR_CORRECTED. These fields are then mapped accordingly in the following union LT_UNION_LTA_KONV&#xD;&#xA;20221024 36519 EHV5BD2 Added new field VACTS: Starting in node TG and forwarded along two different path:&#x9;&#xD;&#xA;&#x9;1. path: along VL_only_Delta, VL_with_VA and VL_with_VA_TG_LT_LP_VR_MD_FI_HT until ouput&#xD;&#xA;&#x9;2. path: along VA_wo_VL and VA_w_VL, VA_only_Delta, VA_current, VA_undeleted, VA_with_VL, VA_with_FI and VA_with_FI_TD until output&#xD;&#xA;&#x9;For second path added new nodes VA_VACTS_ALL and VA_VACTS_VL to cover certain logic in the tour ADSO IPBTOUR9&#xD;&#xA;&#x9;In node VL_with_VA_TG_LT_LP_VR_MD_FI added new fields for SGR calculation as well as help fields: VLC_CONF_VALUE (forwarded until output), VLC_TARGET_VALUE(forwarded until output), VLC_VR_TS_NONULL, VLC_MD_TS_NONULL, VLC_LP_TS_120_NONULL, VLC_LP_TS_115_NONULL, VLC_LP_TS_110_NONULL, VLC_LP_TS_106_NONULL, VLC_LP_TS_100_NONULL, VLC_LP_TS_90_NONULL&#xD;&#xA;&#x9;In node VA_not_full_delivered added new fields for SGR calculation: VAC_CONF_VALUE, VAC_TARGET_VALUE and forwarded these until output&#xD;&#xA;&#x9;In node VL_WITH_EK_LGORT added new field VLC_VACTS_EK and mapped that field to TG_VACTS in following node VL_WITH_VA_EK_UNION&#xD;&#xA;20220318 34181/34200 EHV5BD2 In node VA_history added field VA_AUGRU and forwared it until output via path through node VA_not_full_delivered and VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD&#x9;&#xD;&#xA;20220315 34175 EHV5BD2 Set aggregation of field TG_SGR_STAT to Max in node VL_WITH_EK_AGG&#x9;&#xD;&#xA;20220314 34171 EHV5BD2 Added fields VLC_SOURCEDOC in nodes VL_WITH_EK_LGORT and VL_with_VA and mapped them to XX_SOURCEDOC in Union node VL_WITH_VA_EK_UNION to fix and remove the constant mapping&#x9;&#xD;&#xA;20220228 34121 EHV5BD2&#x9;&#xD;&#xA;&#x9;- In node EK_distinct: added field TG_SGR_STAT and forwarded it until VL_WITH_VA_EK_UNION where it is mapped&#xD;&#xA;&#x9;- In node VL_WITH_EK_LGORT: Changed join condition from VL_LGORT to EK_LGORT&#xD;&#xA;20211001 33740 EHV5BD2 In nodes TP_TARGETS_PURCHASE_ORDER, EK_Delta_with_Targets and VL_EK_Delta_with_Targets added field SGR_STAT and mapped it in node UNION_DELTA. In node VL_WITH_EK_AGG renamed VA_KUNNR to VA_KUNWE and VA_KUNWE to VA_KUNNR. Added node LM_LGORT and VL_WITH_EK_LGORT to get the correct KUNWE field. In union VL_WITH_VA_EK_UNION changed source node from VL_WITH_EK_AGG to VL_WITH_EK_LOGRT and mapped the fields the same way with exception: VA_KUNNR -> VA_KUNNR and LM_KUNWE -> VA_KUNWE.&#x9;&#xD;&#xA;20210707 32788 EHV5BD2 Introduced new input parameter &quot;ERDAT&quot; and added filters for it in the following nodes:&#x9;&#xD;&#xA;&#x9;Node: VA_history; Filter: VA_ERDAT >= ERDAT&#xD;&#xA;&#x9;Node: VL_history; Filter: VL_ERDAT >= ERDAT&#xD;&#xA;&#x9;Node: FI_history_proj; Filter: FI_ERDAT >= ERDAT&#xD;&#xA;&#x9;Node: EK_history; Filter: EK_BEDAT >= ERDAT&#xD;&#xA;&#x9;Node: VBFA; Filter: XX_ERDATN >= ERDAT OR XX_ERDATV >= ERDAT&#xD;&#xA;&#x9;Node: LP_history; Filter: LP_DATUM >= ERDAT&#xD;&#xA;&#x9;Node: VR_current; Filter: VR_ERDAT >= ERDAT&#xD;&#xA;&#x9;Node: MD_current; Filter: MD_CPUDT >= ERDAT&#xD;&#xA;&#x9;Node: LT_history_w_konverter; Filter: LT_BDATU >= ERDAT&#xD;&#xA;20210607 32778 EHV5BD2 In node &quot;Projection_4&quot; a bug was fixed where the bracket was incorrect for the &quot;isNull&quot; part of the filter&#x9;&#xD;&#xA;20210408 31194 EHV5BD2 In node &quot;Projection_4&quot; the filter was adjusted by &quot;LT_MAX_QTS&quot; is NULL OR &quot;LT_MAX_QTS&quot;&lt;=&quot;TG_DUEGI_1&quot;&#x9;&#xD;&#xA;20200929 30801 EHV5BD2 Changed calculation of fields VLC_CNT_DGR, VLC_CNT_SGR, VLC_CNT_SGR_ALL_TIME in node VL_with_VA_TG_LT_LP_VR_MD_FI. Now the calculation will be done for status L with all timestamps greater than LP_MAX_TS_GE_90 (i.e. 100, 106, 110, 115, 120, MD_TS, VR_TS).&#x9;&#xD;&#xA;20200923 30794 EHV5BD2 Changed calculation of fields VLC_CNT_DGR, VLC_CNT_SGR, VLC_CNT_SGR_ALL_TIME in node VL_with_VA_TG_LT_LP_VR_MD_FI. &#x9;&#xD;&#xA;&#x9;Now the calculation will also be done for status L with timestamp LP_MAX_TS_GE_90.&#xD;&#xA;20200210 30320 DV80MRT Added nodes: VW_wo_VL_tour + VA_wo_VL + VA_w_VL, reason: &#x9;&#xD;&#xA;&#x9;it must be possible to have tours for (partly) uncommitted sales orders, that are different from tours of the deliveries.&#xD;&#xA;&#x9;so here we distinguish between sales order items wit and without delivery. when we bring them together again, the tour info of the ones with delivery is deleted. in the aggregation node&#xD;&#xA;&#x9;VA_distinct, the max values for tours are choen, so the sales order item withou delivery always wins, when the tou is determined.&#xD;&#xA;30073 2019-12-15 t9k54o7 Node VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD:&#x9;&#xD;&#xA;&#x9;Calculated column LTC_VLTYP: Filling up with leading zeros only if the source column LTC_VLTYP_KONV is filled. If the source column LTC_VLTYP_KONV is null or empty value is taken without filling it up with leading zeros.&#xD;&#xA;20191210 30048 t9k54o7 Node VL_with_VA_TG_LT_LP_VR_MD_FI: Logic for VLC_CNT_BGR changed: Now the result is also 1 if the creation time stamp of the delivery is lower-equal Duegi and the creation date is not initial&#x9;&#xD;&#xA;30035 2019-12-4 t9k54o7 Node VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD: Calculated column LTC_VLTYP added which deliveries field LTC_VLTYP_KONV with leading zeros&#x9;&#xD;&#xA;&#x9;Node VA_union_VL: Target field LT_VLTYP remapped to source field LTC_VLTYP instead of field LTC_VLTYP_KONV (for source node VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD)&#xD;&#xA;30001 20191201 t9k54o7 Node LT_UNION_LTA_KONV: Target field TG_DUEGI_1 now also mapped from source node KO_KONV_only_delta (source field TG_DUEGI)&#x9;&#xD;&#xA;20191114 29820 t9k54o7 Node VA_DELETE_FIB_CANCELLED:&#x9;&#xD;&#xA;&#x9;Field FI_VWK_EIS_DEL added&#xD;&#xA;&#x9;Filter expression changed to consider now FI_VWK_EIS_DEL&#xD;&#xA;20191107 29798 t9k54o7 New nodes added:&#x9;&#xD;&#xA;&#x9;- FI_AGG_TO_VA_NOT_CANCELLED between VA_with_FI and FI_AGG_to_VA&#xD;&#xA;&#x9;- FI_AGG_TO_VA_FI_CANCELLED and FI_AGG_TO_VA_NOT_CANCELLED and VA_DELETE_FIB_CANCELLED&#xD;&#xA;&#x9;between FI_AGG_to_VA and VA_union_VL&#xD;&#xA;&#x9;Node: VA_union_VL: New source VA_DELETE_FIB_CANCELLED added. Fields VA_VBELN, VA_POSNR, VA_ERDAT, VA_ERZET, VA_SOURSYSTEM and FI_FBLNR added&#xD;&#xA;20191101 29794 t9k54o7 Node VA_DELETE_FIB_STUBS:&#x9;&#xD;&#xA;&#x9;- Field FI_VWK_EIS_DEL added&#xD;&#xA;&#x9;- Filter expression extended by condition that only records where FI_VWK_EIS_DEL not equal X are considered&#xD;&#xA;20191101 29779 T9K54O7 Node Projection1: Filter expression for VL_ERDAT corrected (&quot; sign forgotten)&#x9;&#xD;&#xA;20191026 29757 t9k54o7&#x9;&#xD;&#xA;&#x9;Node VA_not_full_delivered: Logic for field VAC_COMMITED_QTY_FIB changed to always take value from field VA_COMMITED_QTY&#xD;&#xA;&#x9;Logic for field VAC_RELEVANT_QTY_FIB changed to always take value from field VA_RELEVANT_QTY&#xD;&#xA;&#x9;Field FIC_FBLNR_FINAL added. If the FBLNR is cancelled then the field is set to blank, otherwise the original value from the document is taken&#xD;&#xA;&#x9;Node VA_delete_stubs_with_FIB: Node added&#xD;&#xA;&#x9;Node VA_union_VL: New source VA_delete_stubs_FIB added. Fields VA_VBELN, VA_POSNR, VA_ERDAT, VA_ERZET, VA_SOURSYSTEM and FI_FBLNR mapped from this source.&#xD;&#xA;&#x9;Target field FI_FBLNR is remapped to source field FIC_FBLNR_FINAL for source VA_not_full_delivered&#xD;&#xA;&#x9;Removed mapping for target field FI_FBLNR from source VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD&#xD;&#xA;&#x9;Node FI_history_proj: Field FB_VWK_EIS_DEL added and mapped until nodes VA_not_full_delivered and&#xD;&#xA;&#x9;Node VA_delete_stubs&#xD;&#xA;&#x9;Node VL_DELETE_FIB_STUBS_FBLNR_NO_DELIV: Filter syntax corrected&#xD;&#xA;&#x9;Node VL_DELETE_FIB_STUBS_DELIV_NO_FBLNR: Node switched off with filter where 1=0 to avoid deletion of the node&#xD;&#xA;&#x9;Input parameter ip_hist_audat_to added&#xD;&#xA;&#x9;Projection1: Filter expression: Additional logic for history load: Also consider records where VL_ERDAT greater than key date. In addtition filter on ip_hist_audat_to added to improve history init load performance&#xD;&#xA;20191024 29732 t9k54o7 Filter to only consider records with FBLNR added&#x9;&#xD;&#xA;20191018 29685 t9k54o7 Nodes VL_History, LT_history_w_konverter, VBFA, LP_History, VR_current:&#x9;&#xD;&#xA;&#x9;Filter on new input parameter ip_pure_order_mode. If pure order mode is set to X, all data are filtered out&#xD;&#xA;&#x9;Date CHANGE Author Modification&#xD;&#xA;20191017 29663 T9K54O7 Node projection 1: Negative offset for Stichtag changed to 3 days to avoid lost information during history load&#x9;&#xD;&#xA;20191001 29568 t9k54o7 Comments for changes 29540 and 29563 changed according to CRV review&#x9;&#xD;&#xA;&#x9;Node ZZ_ZZSPID: Source table ZZSPID replaced by table /BIC/ALTPZSPI92&#xD;&#xA;&#x9;Node VA_Status_0_TS: Keep flags for all output columns set to true&#xD;&#xA;20191001 29563/29568 t9k54o7 Node VA_undeleted_with_STATUS_0_TS added&#x9;&#xD;&#xA;&#x9;Node Node VA_with_STATUS_0_TS removed&#xD;&#xA;&#x9;Node VA_Current_with_min_b_ts: Changed source from VA_undeleted to VA_undeleted_with_STATUS_0_TS&#xD;&#xA;20191001 29558 t9k54o7 Node VA_with_STATUS_0_TS: Join type changed to left outer join&#x9;&#xD;&#xA;&#x9;Node VA_Status_0_TS: Aggregation type for VA_STATUS_0_TS changed to Min&#xD;&#xA;20191001 29540/29568 t9k54o7 Change comment for change 29517 changed according to CRV feedback&#x9;&#xD;&#xA;&#x9;Nodes VA_Filter_Status_0_TS, VA_Status_0_TS and VA_with_STATUS_0_TS added to determine field VA_STATUS_0_TS&#xD;&#xA;&#x9;Node VA_Current_with_min_b_ts: Calculated column VAC_STATUS_0_TS added&#xD;&#xA;&#x9;Column VAC_STATUS_0_TS added to output for all nodes in the path from node VA_Current_with_min_b_ts to node VL_with_VA_TG_LT_LP_VR_MD_FI as well as all nodes between node VA_Current_with_min_b_ts and VA_not_full_delivered.&#xD;&#xA;&#x9;Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#xD;&#xA;&#x9;Logic for VLC_CNT_BGR changed to now check if TG_DUEGI is lower-equal VA_1ST_COMMIT_TS instead of check against status&#xD;&#xA;&#x9;Logic for VLC_CNT_SGR_REL changed: Additional condition that the result is also 1 if VAC_STATUS_0_TS is lower TG_DUEGI added&#xD;&#xA;&#x9;Node VA_not_full_delivered:&#xD;&#xA;&#x9;Logic for VA_STATUS_TS changed: For status 0 value is taken from VAC_STATUS_0_TS&#xD;&#xA;&#x9;Calculation for VLC_CNT_BGR changed: Additional condition, that also VA_1ST_COMMIT_TS needs to be lower-equal TG_DUEGI to set value to 1, was added&#xD;&#xA;&#x9;Logic for VLC_CNT_SGR_REL changed: Additional condition that the result is also 1 if TG_ORDERTS or VAC_STATUS_0_TS is lower TG_DUEGI added&#xD;&#xA;&#x9;Node VL_with_VA_TG_LT: Logic for calculated column VL_STATUS changed: If KO_SA_STATUS is not between 191 and 208 status C is set if LT_TANUM is filled&#xD;&#xA;&#x9;Node VA_Current_with_min_b_ts: Change comment for 29563 added according to CRV review&#xD;&#xA;20190926 29517/29540 t9k54o7 Node VA_Current_with_min_b_ts: Calculated column VAC_ABGR_TS_CORR added&#x9;&#xD;&#xA;&#x9;Column VAC_ABGR_TS_CORR added to output for all nodes in the path from node VA_Current_with_min_b_ts to node VL_with_VA_TG_LT_LP_VR_MD_FI as well as all nodes between node VA_Current_with_min_b_ts and VA_not_full_delivered.&#xD;&#xA;&#x9;Node: VL_with_VA_TG_LT_LP_VR_MD_FI and VA_not_full_delivered:&#xD;&#xA;&#x9;Column VAC_ABGR_TS_CORR added to output&#xD;&#xA;&#x9;Logic for calculated column VLC_CNT_SGR_REL changed to now consider new field VAC_ABGR_TS_CORR instead of VA_ABGR_TS&#xD;&#xA;20190925 29513 T9K54O7 Node VL_with_VA_TG_LT:&#x9;&#xD;&#xA;&#x9;Logic for calculated column VL_STATUS changed: Status D is also set if KO_SA_STATUS is greater than 208 (in addition to the already existing conditions)&#xD;&#xA;20190924 29507 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Calculation for the following calculated columns adjusted to change from checking against min and max value of alle relevant timstamps to single checks if timestamp is greater than initial value and lower-equal than due good issue date: VLC_CNT_BGR, VLC_CNT_DGR1, VLC_CNT_BSGR, VLC_CNT_DGR and VLC_CNT_SGR&#xD;&#xA;20190917 29499 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Calculation for the follwing calculated columns adjusted to conisder the max time step for each relevant status for the check if the value is greate than timestamp '00000000000000': VLC_CNT_DGR1, VLC_CNT_BSGR, VLC_CNT_DGR and VLC_CNT_SGR&#xD;&#xA;20190917 29494 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Calculation for the follwing calculated columns has been completely reworked: VLC_CNT_BGR, VLC_CNT_DGR1, VLC_CNT_BSGR, VLC_CNT_DGR and VLC_CNT_SGR&#xD;&#xA;20190921 29479 T9K54O7 Input paramter ip_hist_audat_from added&#x9;&#xD;&#xA;&#x9;Node Projection1: New input paramter ip_hist_audat_from is added as lower bound filter for field VL_AUDAT (only if ip_history_init is set to X)&#xD;&#xA;20190917 29472 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Logic for calculated columns VLC_CNT_BGR, VLC_CNT_DGR1, VLC_CNT_BSGR, VLC_CNT_DGR and VLC_CNT_SGR was changed back to the logic&#xD;&#xA;&#x9;released with change 29459 (changes done in 29463 and 29468 have been reverted).&#xD;&#xA;&#x9;In addtition the logic for VLC_CNT_DGR1 was extenteded by the following:&#xD;&#xA;&#x9;if LP_MAX_TS_GE_90 is not blank and not NULL and lower-equal TG_DUEGI then VLC_CNT_DGR1 is 1&#xD;&#xA;20190917 29468 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_BGR changed: if VLC_CNT_DGR1 equal 1 then VLC_CNT_BGR always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_DGR1 changed: if VLC_CNT_BSGR equal 1 then VLC_CNT_DGR1 always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_BSGR changed: if VLC_CNT_DGR equal 1 then VLC_CNT_BSGR always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_DGR changed: if VLC_CNT_SGR equal 1 then VLC_CNT_DGR always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_SGR changed: removed logic &quot;if VLC_CNT_DGR equal 1 then VLC_CNT_SGR always equal 1&quot;&#xD;&#xA;20190917 29463 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_DGR1changed: if VLC_CNT_BGR equal 1 then VLC_CNT_DGR1 always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_BSGR changed: if VLC_CNT_DGR1 equal 1 then VLC_CNT_BSGR always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_DGR changed: if VLC_CNT_BSGR equal 1 then VLC_CNT_DGR always equal 1&#xD;&#xA;&#x9;Logic for calculated Column VLC_CNT_SGR changed: if VLC_CNT_DGR equal 1 then VLC_CNT_SGR always equal 1&#xD;&#xA;20190916 29459 T9K54O7 Node VL_with_VA_TG_LT_LP_VR_MD_FI:&#x9;&#xD;&#xA;&#x9;Calculated Column VLC_CNT_DGR1: Calculation was changed: VLC_CNT_DGR1 is only set to 1 if time stamp &quot;LP_MAX_TS_GE_40&quot; or &quot;LP_MAX_TS_GE_60&quot; is not initial/emtpy string&#xD;&#xA;&#x9;Calculated Column VLC_CNT_BSGR: Calculation was changed: VLC_CNT_BSGR is also set to 0 if time stamp &quot;LP_MAX_TS_GE_90&quot; contains empty string (in addition to null)&#xD;&#xA;&#x9;t to 0 if time stamp &quot;LP_MAX_TS_GE_90&quot; contains empty string (in addition to null)&#xD;&#xA;20190913 29429 T9K54O7 Node VA_not_full_delivered: - Calculation for calculated column VAC_RELEVANT_QTY_FIB changed: FI_BDMNG&#x9;&#xD;&#xA;&#x9;is only taken if VA_STATUS = 2 (otherwise value is taken from VA_RELEVANT_QTY)&#xD;&#xA;&#x9;- Calculation for calculated column VAC_COMMITED_QTY_FIB changed: FI_FBMNG&#xD;&#xA;&#x9;is only taken if VA_STATUS = 2 (otherwise value is taken from VA_RELEVANT_COMMITTED_QTY)&#xD;&#xA;20190806 29122 T9K54O7 Node ZZ_ZZSPID: Added filter expression to only consider storage location 064&#x9;&#xD;&#xA;20190805 28915 T9K54O7 Nodes KO_LTPKONV_AGGR_MAX_LBR_PICK and KO_LTPKONV_JOIN_WITHMAX added&#x9;&#xD;&#xA;&#x9;Node KO_LTPKONV_JOIN_AGG: Columns KO_LBRAUFNR_MAX and KO_PICKNR_MAX added&#xD;&#xA;&#x9;Filter expression added&#xD;&#xA;20190606 28907/28915 TD3AB04/T9K54O/ changed join to Left Outer in node VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD; added node VA_with_FI_TD for Join with time dimension; Added time dimension fields TD_* in nodes VA_not_full_delivered and VA_union_VL; changed source node fro VA_not_full_delivered from VA_with_FI to VA_with_FI_TD&#x9;&#xD;&#xA;20190517 28855/28873 TD3AB04 remove filter on KO_TMENG_P and PICKNR in Node KO_LTPKONV_PROJ; change calculation of calc column VL_STATUS (added check isnull on LTC_SOURCE and change to SQL engine) in node VL_with_VA_TG_LT&#x9;&#xD;&#xA;20190502 28772 T9K54O7 Node ZZ_ZZSPID: Calculated column ZZC_SOURCE added&#x9;&#xD;&#xA;&#x9;Node KO_UNION_ZZ: Calculated column ZZC_SOURCE mapped to target field KOC_SOURCE&#xD;&#xA;28736 20190502 TD3AB04 MHP&#x9;&#xD;&#xA;&#x9;- new nodes ZZ_ZZSPID, KO_LTPKONV_JOIN_AGG, KO_UNION_ZZ&#xD;&#xA;&#x9;- changed left join table node in KO_KON_only-delta from KO_LTPKONV_JOIN_LAST to KO_UNION_ZZ&#xD;&#xA;20190410 27833 TD3AB04&#x9;&#xD;&#xA;&#x9;- added KO_PI_GESNDT_P, KO_TMENG_P and KO_SA_STATUS in/from node KO_LTPKONV_PROJ until node VL_with_VA_TG_LT&#xD;&#xA;&#x9;- change calculation column VL_STATUS; added further logic to define Konverter status D more detailed in node VL_with_VA_TG_LT&#xD;&#xA;&#x9;- Input Parameter ip_history_init added&#xD;&#xA;&#x9;- Node Projection_1: Filter expression adapted to consider new input paramter ip_history_init&#xD;&#xA;20190321 28081 T9K54O7 Node VA_not_full_delivered: Calculated attribute VLC_CNT_BGR added&#x9;&#xD;&#xA;&#x9;Node VA_union_VL: Target field VLC_CNT_BGR mapped from source/field VA_not_full_delivered-VLC_CNT_BGR&#xD;&#xA;20190321 28069 T9K54O7 Node VA_union_VL: Target field VLC_CNT_SGR_REL mapped from source/field VA_not_full_delivered-VLC_CNT_SGR_REL&#x9;&#xD;&#xA;&#x9;Node VA_not_full_delivered: Fields VA_LOCK_TS_ and VA_ABGR_TS added&#xD;&#xA;&#x9;Calculated attribute VLC_CNT_SGR_REL added&#xD;&#xA;&#x9;Nodes VA_with_FI and VA_with_VL: Fields VA_LOCK_TS_ and VA_ABGR_TS added&#xD;&#xA;27971 20180301 T9K54O7 Added join criteria LT_BADATU - XX_ERDATN to node LT_with correct_Ref&#x9;&#xD;&#xA;20190220 27948 T9K54O7 - Change comments for change 27879 and added comments for change 27911 (based on crv feedback) in semantic node&#x9;&#xD;&#xA;&#x9;-Added comments for change 27911 (based on crv feedback) in nodes VA_with_LOCK_TS and VA_with_ABGR_TS&#xD;&#xA;20190212 27911 T9K54O7 - Join type changed from inner to left outer join in node VA_with_LOCK_TS&#x9;&#xD;&#xA;&#x9;- Join type changed from inner to left outer join in node VA_with_ABGR_TS&#xD;&#xA;20190212 27879 T9K54O7/TD3AB04 - New nodes VA_Filter_Lock_TS and VA_LOCK_TS added (providing new Field VA_LOCK_TS)&#x9;&#xD;&#xA;&#x9;- Field VA_LOCK_TS joined agains current items using node VA_with_LOCK_TS&#xD;&#xA;&#x9;-New nodes nodes VA_Filter_ABGR_TS and VA_ABGR_TS added (providing new Field VA_ABGR_TS)&#xD;&#xA;&#x9;- Field VA_ABGR_TS joined agains current items using node VA_with_ABGR_TS&#xD;&#xA;&#x9;- Fields VA_ABGR_TS and VA_LOCK_TS propagated until node VL_with_VA_TG_LT_LP_VR_MD_FI&#xD;&#xA;&#x9;- Calculation for field VLC_SGR_CNT_REL changed in node VL_with_VA_TG_LT_LP_VR_MD_FI&#xD;&#xA;&#x9;- change comments for crv (based on change 27849) and set keep flags in top aggreation for fields VLC_SGT_TS, KO_PICKNR, TD_YEAR, TD_MONTH, TD_WEEK, TD_CALMONTH, TD_CALWEEK&#xD;&#xA;20190206 27849 TD3AB04 add fields KO_PICKNR from node VL_with_VA_TG_LT to the top; change VL_with_VA_TG_LT_LP_VR_MD_FI_HT with VL_with_VA_TG_LT_LP_VR_MD_FI_HT_TD in VA_union_VL cause of enhancement of time fields TD_* / change comments for crv (based on change 27849) and set keep flags in top aggreation for fields VLC_SGT_TS, KO_PICKNR, TD_YEAR, TD_MONTH, TD_WEEK, TD_CALMONTH, TD_CALWEEK&#x9;&#xD;&#xA;20190131 27777 SUIK131 MHP reactivation due to transport issue&#x9;&#xD;&#xA;20190131 27764 TD3AB04 crv issues to change 27699&#x9;&#xD;&#xA;&#x9;SUIK131 MHP- KOC_QTS_CORRECTED has to consider thepick date, since this is used later for Status D status timestamp ( node &quot;KO_KONV_only_delta&quot;)&#xD;&#xA;&#x9;- added &quot;LTC_SOURCE&quot; = 'K' to the filter, since konverter does not deliver a NISTM (node LT_undeleted)&#xD;&#xA;&#x9;-added KO_TMENG_P, added filter on KO_TMENG_P and PICKNR (Projection &quot;KO_LTPKONV_PROJ&quot;)&#xD;&#xA;20190130 27699 suik131 konverter with pick (greiftermin) has to be D (field VL_STATUS) (Node &quot;VL_with_VA_TG_LT&quot;)&#x9;&#xD;&#xA;20190129 27699 TD3AB04 MHP -added VLC_CNT_SGR_ALL_TIME, VLC_SGR_TS and , VLC_CNT_SGR_REL (source VL_with_VA_TG_LT_LP_VR_MD_FI)&#x9;&#xD;&#xA;27695 20190125 SUIK131 MHP KOC_VBELN/POSNR_CORRECTED now also consider null values (no Konverter-data)&#x9;&#xD;&#xA;&#x9;(node KO_KONV_only_delta)&#xD;&#xA;20190124 26951 SUIK131 added KOC_PICKNR_CORRECTED, changed KOC_VSOLM_CORRECETED,&#x9;&#xD;&#xA;&#x9;changed join for split and no-split (node KO_KONV_only_delta),&#xD;&#xA;&#x9;mapping for that in node Mapping in union node LT_UNION_LTA_KONV, added KOC_VBELN/POSNR (node KO_LTPKONV_JOIN_LAST)&#xD;&#xA;20180116 27668 suik131 - removed filter on ELIKZ since we have to process records with that, too (node EK_history)&#x9;&#xD;&#xA;20190102 27394 SUIK131 MHP - changed calc. columns KOC_BDATU_CORRECTED and KOC_BZEIT_CORRECTED from &quot;XX_ERDAT/ERZETN&quot; to &quot;LT_ERDAT/ERZETV&quot; so that splitted deliveries will aggregate to one records per delivery/TO/pick in node LT_last_date (node KO_KONV_only_delta)&#x9;&#xD;&#xA;&#x9;- removed temporary filter on BDATU (node LT_history_w_konverter)&#xD;&#xA;20181128 27390 SUIK131 MHP - added mapping for LT_SOURSYSTEM and LT_VWK_EIS_DEL (set to initial) for Konverter stream ( node LT_UNION_LTA_KONV)&#x9;&#xD;&#xA;20181128 27373 TD3AB04 MHP - bugfix of calculated columns PAC_PATIMEACT* (added isNull exspression) in node VL_with_VA_TG_LT_LP_VR_MD_IL_MATR_MARC&#x9;&#xD;&#xA;&#x9;SUIK131 MHP - added mapping for LT_TANUM and LT_TAPOS for the Konverters stream (node LT_UNION_LTA_KONV)&#xD;&#xA;20181122 27327 suik131 - MHP changed comments (CRV) in header and node VL_with_VA_TG_LT_LP_VR_MD&#x9;&#xD;&#xA;&#x9;- to get a better performance in the area of transport order joins the joins with LTA and Konverter data is split into two data streams (new nodes: LT_UNION_LTA_KONV&#xD;&#xA;&#x9;LT_filter_LTA, KO_KONV_only_delta,LT_filter_KONV)&#xD;&#xA;20181121 27321 suik131 MHP - changed format-order in LTC_TS_KONV_CREATE and LTC_TS_KONV_PICK from ...hh.. to ..hh24.. to produce a 24h format (node LT_only_Delta)&#x9;&#xD;&#xA;&#x9;- added nodes KO_LTPKONV_AGG_LATEST, KO_LTPKONV_JOIN_LAST and changed input to LT_only_Delta to avoid duplications in Konverter records&#xD;&#xA;20181121 27314 suik131 MHP - added check for LT_LGNUM&lt;>'' in case status C ist set before we have all converter data (node VL_with_VA_TG_LT_LP_VR_MD, calc. column VLC_LGORT_E_W_VL_LT_LP)&#x9;&#xD;&#xA;&#x9;- changed length of VLC_LT_QTS to 14 chars (node VL_with_VA_TG_LT_LP_VR_MD_FI_HT)&#xD;&#xA;20181120 27304 SUIK131 MHP no changes/ only for a re-transport&#x9;&#xD;&#xA;20181118 27213 suik131 MHP - XXC_LGORT_E now filled from VAC_LGORT_FI (source node VA_not_full_delivered) (node VA_union_VL)&#x9;&#xD;&#xA;&#x9;-changed VLC_LGORT_E_W_VL_LT_LP: status C and D in case of Konverter Picks are filled with VL_LGORT as LT_LGNUM is not always available(node VL_with_VA_TG_LT_LP_VR_MD)&#xD;&#xA;&#x9;- changed LT_VSOLM/NISTM corrected. We always go for the LTAP/LTAK value if available and do not use the minium compared with VBFA, since the causes zero values sometimes (Node LT_with_correct_Ref)&#xD;&#xA;&#x9;- added LTC_TS_KONV_PICK (node VL_with_VA_TG_LT_LP and all above)&#xD;&#xA;&#x9;- added VLC_QTS (node VL_with_VA_TG_LT_LP_VR_MD_FI_HT)&#xD;&#xA;20181118 27229/27213 SUIK131 MHP added filter on BDATU (tempory for performance) and on VWK_EIS_DEL (for reducing data volume) (node LT_history_w_konverter)&#x9;&#xD;&#xA;20181113 27181 dv80mrt - lt_with_correct_ref + lt_join_part2: removed join condition on POSNN (lt_with_correct_ref), because join is too slow.&#x9;&#xD;&#xA;&#x9;added this condition in the new next projection (lt_join_part2). so the result is the same, but performance is much better now.&#xD;&#xA;&#x9;- LP_1st_date + lp_1st_date_state + lp_current_with_tss + lp_agg_to_vl: changed lp_min_ts to lp_max_ts, so now the last time is measured when a status is reached&#xD;&#xA;&#x9;- vl_delta + lt_obnly_delta: nothing changed as far as i know&#xD;&#xA;27181 2018-11-13 SUIK131 MHP&#x9;&#xD;&#xA;&#x9;- removed parameteres ip_va_erdat_from/to, since we have to take a different approach for delta reloads&#xD;&#xA;&#x9;- added new parameter for reload &quot;ip_use_reload_table&quot;, which steers if reload table IPBRELO9 is considered in the prequery&#xD;&#xA;27080 2018-11-06 SUIK131 MHP&#x9;&#xD;&#xA;&#x9;new parameters ip_va_erdat_from/to for delta prequery sub view (see change there for details)&#xD;&#xA;27091 20181102 SUIK131 MHP&#x9;&#xD;&#xA;&#x9;changed input node from FI_AGG_to_VA to FI_AGG since we want to consider all types (confirmend and unconfirmed) (node VL_deleted_FIB)&#xD;&#xA;20181101 27032 suik131 MHP deletion record for purchasing: (new Projection &quot;VL_deleted_PUR&quot;)&#x9;&#xD;&#xA;20181030 26981 suik131 MHP consider Konverter pick date in LTC_QDATU and LTC_QZEIT if transfer order QDATU and QZEIT are not filled/available (node Aggregation &quot;LT_agg_to_VL&quot;)&#x9;&#xD;&#xA;20181026 26973 suik131 MHP add KO_STATUS_P and KO_STATUS_L (node Projection &quot;KO_LTPKONV_PROJ&quot; and all nodes above)&#x9;&#xD;&#xA;20181025 26966 TD3AB04 MHP&#x9;&#xD;&#xA;&#x9;fix calculation of LTC_QDATU in Node LT_agg_to_VL and after the deletion of VLC_PICKDATE_D in node VL_with_VA_TG_LT_LP_VR_MD_FI changing of join condition in node VL_with_VA_TG_LT_LP_VR_MD_FI_HT: The calculation of VLC_HOLY is changed to normal fields (no more the calculated fields)&#xD;&#xA;&#x9;SUIK131 MHP new JoinNode &quot;VL_deleted_FIB&quot;: if FIB case is deleted we have to add FBLNR to the &quot;normal&quot; VL deletion records&#xD;&#xA;20181023 26946 - Konverter no-pick-status changed from D to C (node &quot;VL_with_VA_TG_LT&quot;)&#x9;&#xD;&#xA;20181009 26515 SUIK131 MHP changed node name from HT to HC_HOLIDAYS_PROJ, changed comments in VL_with_VA_TG_LT_LP_VR_MD_FI_HT and HC_HOLIDAYS_PROJ; corrected join in VL_EK_Delta_with_Target&#x9;&#xD;&#xA;20181004 26452/26407 TD3AB04 new node HT and VL_with_VA_TG_LT_LP_VR_MD_FI_HT for holiday flag derivation; VLC_HOLY contains flag and will be set in node VL_with_VA_TG_LT_LP_VR_MD_FI_HT&#x9;&#xD;&#xA;20180926 26407 SUIK131 - adjusted this comment for crv, changed aggregation to max for all non-key-fields in node VL_WITH_EK_AGG, added VBELN in join in node VL_EK_Delta_with_Target, deactivated EK delta in normal delta run (DELTA=X) with change in node VL_EK_Delta&#x9;&#xD;&#xA;20180924 26369 SUIK131 - set keep flag = true for tg_bsdate&#x9;&#xD;&#xA;&#x9;- Picks in process monitor; added new fields: BWLVS, LETYP, KZDIF, NLQNR, VLENR,NLENR,VLQNR,VKAPV, MAKTX&#xD;&#xA;&#x9;(Projection &quot;LT_history_w_konverter&quot; and all nodes above), added fields from delivery: LFART (Projection node VL_history and all nodes above)&#xD;&#xA;&#x9;new calc. fields:&#xD;&#xA;&#x9;VLC_QHOUR: HOUR from QZEIT (first two digits)&#xD;&#xA;&#x9;VLC_PICKDATE: day of pick (QDATE), if before 6.30, night shift, than it is the day before&#xD;&#xA;&#x9;VLC_WEEKDAY: weekday of PICKDATE&#xD;&#xA;&#x9;VLC_SHIFT (1,2,3) morning,day,night derived from pick time (QZEIT)&#xD;&#xA;20180924 26346 SUIK131 - to avoid overflows changed conversion for fields PAC_2AVGTIME* and PAC_3AVGTIME* from int() to double() (nodes PA_IPBSERA9_AGG_AVG and PA_IPBSERA9_MED_AGG_AVG)&#x9;&#xD;&#xA;&#x9;- removed fileds TG_BS* from output, since if there is no delivery, there should be no BS-dates (node VA_not_full_delivered)&#xD;&#xA;20180911 26218 SUIK131 added new fields for &quot;Bereitstellzeitpunkt&quot; TG_BSDATE, TG_BSTIME, TG_BSDATE_ORI, TG_BSTIME_ORI (node TG and all nodes above). They have to be treated the same as the alreay existing REPDATE&#x9;&#xD;&#xA;20180829 25876 SUIK131 new node VL_DELETE_FIB_STUBS_DELIV_NO_FBLNR to create FIB delete stubs for old records with a delivery but no FBLNR&#x9;&#xD;&#xA;20180830 25918 SUIK131 FIB deletion records should only created for FIB process orders, check by looking for filled FI_AUFNR (node VL_DELETE_FIB_STUBS_DELIV_NO_FBLNR)&#x9;&#xD;&#xA;20180829 25872 SUIK131 Filter on VL_LFART also has to consider LFART = null, since Delivery might yet not exist for sales order cases (node VL_DELTA_VA )&#x9;&#xD;&#xA;20180710 24226 suik131 changes for code review: renamed VA_VWK_EIS_DEL to VAC_VWK_EIS_DEL (node VA_DELETE_FIB_STUBS) renamed VL_VWK_EIS_DEL to VLC_VWK_EIS_DEL (node VL_DELETE_FIB_STUBS_FBLNR_NO_DELIV), changed comments as well.&#x9;&#xD;&#xA;&#x9;VL_EK_DELTA: added mapping for paramter stichtag_bis on IP_STICHTAG_BIS&#xD;&#xA;20180705 24500 remapped VL_VGPOS from standard VA, which got lost (node UNION_DELTA)&#x9;&#xD;&#xA;20180705 2383 td3b04/suik131 changed comments due to crv, re entered constant values of XX_SOURCEDOC in node &quot;VL_WITH_VA_EK_UNION&quot;, which were lost when source node was changed&#x9;&#xD;&#xA;20180704 24479 suik131 new node VL_WITH_EK_AGG to avoid duplicate entries for purchase/relocation&#x9;&#xD;&#xA;20180704 24484 suik131 changed mapping to VL_VGPOS from VGPOS (was TP_EBELP before, which does not work due to different length (5 to 6 char) in later joins (node UNION_DELTA)&#x9;&#xD;&#xA;20180704 24469 SUIK131 new field VL_LFART in node &quot;VL_Delta&quot; and the two new projections (with filters) VL_DELTA_VA and VL_DELTA_EK above to ensure that only deliveres for Purchasing/relocation (NFART = NL) are joined with the tour DSO for purchasing&#x9;&#xD;&#xA;20180703 24420 suik131 removed mapping BEDAT -> AUDAT from node &quot;EK_Delta_with_Targets&quot; to node &quot;UNION_DELTA&quot; since this audat is not availabe in the delivery source and leads to no results later in the joins between delta and vl history&#x9;&#xD;&#xA;20180628 24299 suik131 - check not isNull(&quot;LTC_SOURCE&quot;) in VL_STATUS (VL_with_VA_TG_LT) and VLC_POSNR_KONV (VL_with_VA_TG_LT_LP_VR_MD_FI)&#x9;&#xD;&#xA;20180627 24272 suik131 - add KO_AUFSTAT, KO_LAGAUFNR KO_AZWSTF_L (node KO_LTPKONV_PROJ)&#x9;&#xD;&#xA;20180625 24257 suik131 - changed status D for converter data in node VL_with_VA_TG_LT, field >VL_STATUS, add field KOC_SOURCE in node Projection &quot;KO_LTPKONV_PROJ&quot;, new calc column in JoinNode &quot;VL_with_VA_TG_LT_LP_VR_MD_FI&quot;: VLC_POSNR_KONV&#x9;&#xD;&#xA;20180622 24223 suik131 - added new node VL_DELETE_FIB_STUBS_FBLNR_NO_DELIV&#x9;&#xD;&#xA;20180619 24189,24215 suik131 -replaced DUMMY table with node KO_LTPKONV_PROJ, new calc. colum LTC_VLTYP_KONV (all in node LT_only_Delta)&#x9;&#xD;&#xA;20180619 24184 suik131 - added calc column VAC_LGORT_WITH_FI (node VA_not_full_delivered)&#x9;&#xD;&#xA;20180619 24179 suik131 - added CONFS (RUEKZ) flag in node FI_history_proj to prvoide only confirmed (RUEKZ=X) orders in FI_AGG_to_VA_TG and unconfimid ones in VA_with_FI&#x9;&#xD;&#xA;20180613 24153 suik131 - added check that LP_LWRK&quot;!='00' (VLC_LGORT_E_W_VL_LT_LP in node VL_with_VA_TG_LT_LP_VR_MD)&#x9;&#xD;&#xA;20180613 24149 dv80mrt - LT_with_Correct_Ref: changed LT_QTS2 for Konverter Records, renamed it to LT_QTS2_CORRECTED&#x9;&#xD;&#xA;20180611 24056 suik131 changed qty key figure mapping to _FIB fields (node VA_union_VL)&#x9;&#xD;&#xA;20180611 23898 suik131 - added check that LP_LWRK&quot;!='' (node VL_with_VA_TG_LT_LP_VR_MD)&#x9;&#xD;&#xA;20180611 23989 suik131 -hanged filter status from 30 to 28 (node LP_history)&#x9;&#xD;&#xA;20180608 23989 TD3AB04 bugfixes for predictive alerting; changed columns for aggregation in PA_IPBSERA9_AGG, PA_IPBSERA9_MED__AGG, PA_IPBSERA9_MED_AGG_AVG, A_IPBSERA9_AGG_AVG&#x9;&#xD;&#xA;20180606 23989 SUIK131 VAC_LGORT now only filled from VA LGORT (node VA_with_FI)&#x9;&#xD;&#xA;&#x9;new keyfigures for commtted and relevant fi QUANTITY (node VA_not_full_delivered)&#xD;&#xA;20180605 23907, 23984 SUIK131 added VA_DELETE_FIB_STUBS to delete old FIB entries withour FBLNR&#x9;&#xD;&#xA;20180531 23907 TD3B04 bugfixes and crv issues&#x9;&#xD;&#xA;20180529 23828 SUIK131 FI_DATUM and FI_UZEIT as new source for VA_TS (node VA_not_full_delivered)&#x9;&#xD;&#xA;20180517 23604 TD3AB04 -/changes: 22758, 22896, 23095, 23210, 23259, 23400, 23437, 23653, 23772.&#x9;&#xD;&#xA;&#x9;- VL_with_VA_TG_LT_LP_VR_MD_IL_MATR_MARC for calculation of current difference between the start time and the status time of an order (calculation of PA_TIMEACTC/30/60/70/90/120&#xD;&#xA;&#x9;- VL_with_VA_TG_LT_LP_VR_MD_IL_PA1 Calculation of Predictive Alerting Flags (VPA_FLAG1_C/30/60/70/90/120) for the first PA search. For calculation of the the flags, there are some experience values which will be collected over PA_IPBSERA9_PROJ (fields PA_PATIMEC/30/60/70/90/120)&#xD;&#xA;&#x9;- VL_with_VA_TG_LT_LP_VR_MD_IL_PA2 calculation of Predictive Alerting Flags (VPA_FLAG2_C/30/60/70/90/120) for the second PA search. For calculation of the flags, there are some experience values which will be collected over PA_IPBSERA9_MED_AGG_AVG (fields PA_PATIMEAVGC/30/60/70/90/120). Within this fields, the average experience value for each status is deifned and will be used for calculation of the flags&#xD;&#xA;&#x9;- VL_with_VW_TG_LT_LP_VR_MD_IL_PA3 calculation of Predictive Alerting Flags (VPA_FLAG3_C/30/60/70/90/120) for the third PA search. for Calculation of the flags, there are some experience values which will be collected over PA_IPBSERA9_AGG_AVG (fields PA_PATIMEAVGC/30/60/70/90/120). Within this fields, the average experience value for each status is defined and will be used for calculation of the falgs. Furthermore the Search Flags will be filled (VPA_FLAG_SC/30/60/70/90/120) - this flags define which search for experience values were the relevant for getting the flags.&#xD;&#xA;20180517 23604 SUIK131 - added node PA_IPBSEA9_MED_AGG&#x9;&#xD;&#xA;20180517 23604 SUIK131 -added node PA_IPBSERA9_AGG&#x9;&#xD;&#xA;20180226 20520 suik131 BT180119002: Change/Enhancements for Lagermonitor 2&#x9;&#xD;&#xA;&#x9;- add print/druck Status from transfer order with new status. New Field: LTC_DRUCK in sourcenode: LT_ONLY_DELTA&#xD;&#xA;&#x9;- changed TG from /BIC/AIPBLIGI96 to /BIC/AIPBTOUR92 source (dv80mrt). New fields: TG_TOTGT and TG_MIOEGI in sourcenode: TG&#xD;&#xA;&#x9;- add FIB process and status with data from IPBSFIB9. New fields: FI_KQUIT, FI_AUFNR, FI_KBMENG, FI_KWMENG, FI_BMENG, FI_RSNUM, FI_AURAT, FI_MBLNR, FI_MJAHR, FI_STATUS_T, FI_ARKTX, FI_RSPOS, FI_IDNRK, FI_FBLNR, FI_BDMNG, FI_FBMNG, FI_FBEIN, FB_BDEIN, FI_LGNUM_P, FI_LGTYP, FI_LGPLA and FI_LGORT in sourcenodes: FI_only_Delta, FI_AGG_to_VA and FI_AGG_to_VA_TG&#xD;&#xA;&#x9;- for Nachschub/Relocation: fill VSBED/WEMPF/KUNNR from delivery in sourcenode VL_with_EK&#xD;&#xA;&#x9;- add Customizing for DGR/DGR1 from IL_ILBCUST_PROJ&#xD;&#xA;&#x9;- add converter data from LTPCONV9&#xD;&#xA;&#x9;- added ZZ_AUFTL for predicitiv alerting. New Field: ZZ_AUFTL in sourcenode: VL_HISTORY&#xD;&#xA;&#x9;- added XX_WERKS. New Field: XX_WERKS in sourcenode: VL_WITH_VA_EK_UNION&#xD;&#xA;&#x9;- added XXC_LGORT_E - effective/current storage location. New field: XXC_LGORT_E in sourcenode: VA_UNION_VL from VA_LGORT in sourcenode VA_HISTORY and VLC_LGORT_E_W_VL_LT_LP in sourcenode: VA_TG_LT_LP&#xD;&#xA;&#x9;- added VPA_FLAG_* fields for experience values for predictive alerting. Source fields: VPA_FLAG1/2/3 and new nodes: VL_with_VA_TG_LT_LP_VR_MD_IL_PA1, VA_TG_LT_LP_VR_MD_IL_PA2, VA_TG_LT_LP_VR_MD_IL_PA3&#xD;&#xA;20180226 20520 SUIK131 - added FI_AGG_to_VA&#x9;&#xD;&#xA;20180214 17032 dv80mrt - VL_DELTA: replaced SERVICEGRADE_DELTA_PREQUERY by SERVICEGRADE_DELTA_PREQUERY2&#x9;&#xD;&#xA;&#x9;-LT_FILTER: added this node&#xD;&#xA;&#x9;-multiple joins: added cardinalities&#xD;&#xA;&#x9;-multiple projections: replaced /BIC/A*6 views by /BIC/A*2 tables&#xD;&#xA;&#x9;-re-arranged all nodes&#xD;&#xA;&#x9;-VBFA: removed calculated posnr, because 1 level higher it's better&#xD;&#xA;&#x9;-LT calculation of items and timestamps is done in node LT_with_correct_Ref instead of LT_history_w_konverter. so vbfa entries without&#xD;&#xA;&#x9;any lta* or konverter records are counted, too&#xD;&#xA;&#x9;-route from LP is taken if it is filled, else route from vl is taken&#xD;&#xA;20171211 ? SUIK131 adding internal supply purchase orders (Nachschub) as new parallel datasource in addition to sales orders&#x9;&#xD;&#xA;&#x9;This includes the following changes:&#xD;&#xA;&#x9;- New Projections TP_TARGET_PURCHASE_ORDER and VL_EK_DELTA to include purchase order versions for the tour/target information and the&#xD;&#xA;&#x9;Delta-Selection at the base input of the calculation view&#xD;&#xA;&#x9;- New nodes EK_distinct, EK_history, EK_only_delta, VL_with_EK selecting the purchase order information and joining it with delievery data&#xD;&#xA;&#x9;- New union VL_WITH_VA_EK_UNION to merge purchase order triggered processes with sales order processes&#xD;&#xA;&#x9;- Changed join VL_with_VA_TG_LT using new union VL_WITH_VA_EK_UNION&#xD;&#xA;&#x9;- New fields&#xD;&#xA;&#x9;- EK_* 1:1 transfer from purchase order fields:&#xD;&#xA;&#x9;- XX_SOURCEDOC: calculated field showing type of start-documwent/business process:&#xD;&#xA;&#x9;-Changed VA_with_VL&#xD;&#xA;&#x9;VA_RELEVANT_COMMITTED_QTY and VA_RELEVANT_IN_TIME_COMMITTED_QTY, subtract &quot;VA_SUM_LFIMG&quot;&#xD;&#xA;20171207 ? dv80mrt for LGNUM 50 there are no LTA*, but only VBFA. So we fill TANUM from there.&#x9;&#xD;&#xA;20171129 ? dv80mrt - removed filter so that even VA and VL without tours can be evaluated. needed für deleted ones&#x9;&#xD;&#xA;&#x9;- add VA_deleted to delete deleted VAs in the ADSO&#xD;&#xA;20171122 ? dv80mrt removed TA filter BWART=601,641&#x9;&#xD;&#xA;&#x9;if we have 2 package database entries for same timestamp for 1 picket, take the upper one&#xD;&#xA;&#x9;added possibility for datapackage selection&#xD;&#xA;20171117 ? DV80MRT Aggregation in Package DB is now done to PicketID, not to VENUM+VENUM_IN+PicketID. So Re-packing will be recognized.&#x9;&#xD;&#xA;20171120 ? DV80MRT just look at at pdb Status >=30, ignore 29..&#x9;&#xD;&#xA;20171113 ? DV80MRT Changed Parameter STICHTAG_BIS to non-date format, so that timestamp info can be transferred&#x9;&#xD;&#xA;&#x9;Status: if pdbstat = 10 then use status info from transport&#xD;&#xA;20170901 ? DV80MRT Deleted Deliveries have to be deleted and status has to be A again, so:&#x9;&#xD;&#xA;&#x9;VL_History added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;VL_only_Delta added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;VL_CUURENT added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;VL_undeleted inserted. filter on VWK_EIS_DEL!='X'&#xD;&#xA;&#x9;VL_deleted inserted. filter on VWK_EIS_DEL='X'&#xD;&#xA;&#x9;LT_history_w_konverter added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;LT_with_correct_Ref added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;LT_only_Delta added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;LT_current added VWK_EIS_DEL in columns&#xD;&#xA;&#x9;LT_undeleted inserted. filter on VWK_EIS_DEL='X' (may not happen) and no cancellation (quit-timestamp and nistm=0 forbidden)&#xD;&#xA;&#x9;changed filter on 11.9.17&#xD;&#xA;&#x9;LP_agg_to_VL status M,N.. calculation with 100,106,105 changed&#xD;&#xA;? ? DV80MRT new&#x9;&#xD;&#xA;"/>
  </descriptions>
  <metadata changedAt="2024-01-01 00:00:00.000" createdAt="2024-01-01 00:00:00.000"/>
  <localVariables/>
  <variableMappings/>
  <informationModelLayout relativeWidthScenario="52"/>

  <dataSources>
    <DataSource id="TABLE_A" type="DATA_BASE_TABLE">
      <viewAttributes allViewAttributes="true"/>
      <columnObject schemaName="MY_SCHEMA" columnObjectName="TABLE_A"/>
    </DataSource>
    <DataSource id="TABLE_B" type="DATA_BASE_TABLE">
      <viewAttributes allViewAttributes="true"/>
      <columnObject schemaName="MY_SCHEMA" columnObjectName="TABLE_B"/>
    </DataSource>
  </dataSources>

  <calculationViews>

    <!-- Projection uzlu TABLE_A - varianta 1 -->
    <calculationView xsi:type="Calculation:ProjectionView" id="proj_a" filterExpressionLanguage="COLUMN_ENGINE">
      <descriptions/>
      <viewAttributes>
        <viewAttribute id="ID"/>
        <viewAttribute id="NAME"/>
        <viewAttribute id="AMOUNT"/>
        <viewAttribute id="TYPE"/>
      </viewAttributes>
      <calculatedViewAttributes/>
      <input node="#TABLE_A">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="ID"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="NAME" source="NAME"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="AMOUNT" source="AMOUNT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TYPE" source="TYPE"/>
      </input>
      <filter>"TYPE" = 'STANDARD'</filter>
    </calculationView>

    <!-- Projection uzlu TABLE_A - varianta 2 (pro union) -->
    <calculationView xsi:type="Calculation:ProjectionView" id="proj_a2" filterExpressionLanguage="COLUMN_ENGINE">
      <descriptions/>
      <viewAttributes>
        <viewAttribute id="ID"/>
        <viewAttribute id="NAME"/>
        <viewAttribute id="AMOUNT"/>
        <viewAttribute id="TYPE"/>
      </viewAttributes>
      <calculatedViewAttributes/>
      <input node="#TABLE_A">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="ID"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="NAME" source="NAME"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="AMOUNT" source="AMOUNT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TYPE" source="TYPE"/>
      </input>
      <filter>"TYPE" = 'SPECIAL'</filter>
    </calculationView>

    <!-- Projection uzlu TABLE_B -->
    <calculationView xsi:type="Calculation:ProjectionView" id="proj_b">
      <descriptions/>
      <viewAttributes>
        <viewAttribute id="ID"/>
        <viewAttribute id="CATEGORY"/>
        <viewAttribute id="PRICE"/>
      </viewAttributes>
      <calculatedViewAttributes/>
      <input node="#VL_Delta">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="VL_ERZET"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="CATEGORY" source="VL_POSNR"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="PRICE" source="VL_AUDAT"/>
      </input>
    </calculationView>

    <!-- Union uzlu proj_a a proj_a2 (různé filtry nad stejnou tabulkou) -->
    <calculationView xsi:type="Calculation:UnionView" id="union_all_a">
      <descriptions/>
      <viewAttributes>
        <viewAttribute id="ID"/>
        <viewAttribute id="NAME"/>
        <viewAttribute id="AMOUNT"/>
        <viewAttribute id="TYPE"/>
      </viewAttributes>
      <calculatedViewAttributes/>
      <input emptyUnionBehavior="NO_ROW" node="#proj_a">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="ID"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="NAME" source="NAME"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="AMOUNT" source="AMOUNT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TYPE" source="TYPE"/>
      </input>
      <input emptyUnionBehavior="NO_ROW" node="#proj_a2">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="ID"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="NAME" source="NAME"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="AMOUNT" source="AMOUNT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TYPE" source="TYPE"/>
      </input>
    </calculationView>

    <!-- Join uzlu union_all_a a proj_b -->
    <calculationView xsi:type="Calculation:JoinView" id="join_ab" joinType="leftOuter">
      <descriptions/>
      <viewAttributes>
        <viewAttribute id="ID"/>
        <viewAttribute id="NAME"/>
        <viewAttribute id="CATEGORY"/>
        <viewAttribute id="AMOUNT"/>
        <viewAttribute id="PRICE"/>
        <viewAttribute id="TYPE"/>
      </viewAttributes>
      <calculatedViewAttributes/>
      <input node="#union_all_a">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="ID"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="NAME" source="NAME"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="AMOUNT" source="AMOUNT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TYPE" source="TYPE"/>
      </input>
      <input node="#proj_b">
        <mapping xsi:type="Calculation:AttributeMapping" target="CATEGORY" source="CATEGORY"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="PRICE" source="PRICE"/>
      </input>
      <joinAttribute name="ID"/>
    </calculationView>

    <!-- Explicitní AggregationView uzlu -->
    <calculationView xsi:type="Calculation:AggregationView" id="agg_result">
      <descriptions/>
      <viewAttributes>
        <viewAttribute id="ID"/>
        <viewAttribute id="NAME"/>
        <viewAttribute id="CATEGORY"/>
        <viewAttribute id="TYPE"/>
        <viewAttribute id="TOTAL_AMOUNT"/>
        <viewAttribute id="TOTAL_PRICE"/>
      </viewAttributes>
      <calculatedViewAttributes/>
      <input node="#join_ab">
        <mapping xsi:type="Calculation:AttributeMapping" target="ID" source="ID"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="NAME" source="NAME"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="CATEGORY" source="CATEGORY"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TYPE" source="TYPE"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TOTAL_AMOUNT" source="AMOUNT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="TOTAL_PRICE" source="PRICE"/>
      </input>
    </calculationView>

    <calculationView xsi:type="Calculation:ProjectionView" id="VL_Delta" filterExpressionLanguage="COLUMN_ENGINE">
      <descriptions>
        <comment text="used only if USE_DELTA = 1.&#xD;&#xA;gets sales order items and delivery items that have been changed since last load.&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;Modification History:&#xD;&#xA;----------------------------&#xD;&#xA;&#xD;&#xA;Date&#x9;&#x9;&#x9;CHANGE  &#x9;&#x9;   Author&#x9;&#x9;&#x9;Modification&#xD;&#xA;&#xD;&#xA;20180214   17032     &#x9;&#x9;&#x9;dv80mrt&#x9;&#x9;&#x9;&#x9;- VL_DELTA: replaced SERVICEGRADE_DELTA_PREQUERY by SERVICEGRADE_DELTA_PREQUERY2&#xD;&#xA;20180704       24469      SUIK131 &#x9;&#x9;&#x9;&#x9;new field VL_LFART in node &quot;VL_Delta&quot; and the two new projections (with filters) VL_DELTA_VA and VL_DELTA_EK above to ensure that only deliveres for Purchasing/relocation (NFART = NL) are joined with the tour DSO for purchasing&#xD;&#xA;27080   2018-11-06   SUIK131 MHP&#xD;&#xA;                                new parameters ip_va_erdat_from/to for delta prequery sub view (see change there for details)&#xD;&#xA;20181113     27181   dv80mrt   - nothing changed as far as i know&#xD;&#xA;"/>
      </descriptions>
      <viewAttributes>
        <viewAttribute id="VL_AUZET" keepFlag="true"/>
        <viewAttribute id="VL_AUDAT" keepFlag="true"/>
        <viewAttribute id="VL_VGPOS" keepFlag="true"/>
        <viewAttribute id="VL_VGBEL" keepFlag="true"/>
        <viewAttribute id="VL_ERZET" keepFlag="true"/>
        <viewAttribute id="VL_ERDAT" keepFlag="true"/>
        <viewAttribute id="VL_VBELN" keepFlag="true"/>
        <viewAttribute id="VL_POSNR" keepFlag="true"/>
        <viewAttribute id="VL_SOURSYSTEM" keepFlag="true"/>
        <viewAttribute id="XX_VWK_EIS_MOD"/>
        <viewAttribute id="VL_LFART"/>
      </viewAttributes>
      <calculatedViewAttributes>
        <calculatedViewAttribute datatype="NVARCHAR" id="DELTA" length="1" expressionLanguage="COLUMN_ENGINE">
          <formula>'X'</formula>
        </calculatedViewAttribute>
        <calculatedViewAttribute datatype="NVARCHAR" id="NVL_VBELN" length="10" expressionLanguage="COLUMN_ENGINE">
          <formula>if(isNull(&quot;VL_VBELN&quot;),'',&quot;VL_VBELN&quot;)</formula>
        </calculatedViewAttribute>
        <calculatedViewAttribute datatype="NVARCHAR" id="NVL_POSNR" length="6" expressionLanguage="COLUMN_ENGINE">
          <formula>if(isNull(&quot;VL_POSNR&quot;),'000000',&quot;VL_POSNR&quot;)</formula>
        </calculatedViewAttribute>
        <calculatedViewAttribute datatype="NVARCHAR" id="NVL_ERDAT" length="8" expressionLanguage="COLUMN_ENGINE">
          <formula>if(isNull(&quot;VL_ERDAT&quot;),'00000000',&quot;VL_ERDAT&quot;)</formula>
        </calculatedViewAttribute>
        <calculatedViewAttribute datatype="NVARCHAR" id="NVL_ERZET" length="6" expressionLanguage="COLUMN_ENGINE">
          <formula>if(isNull(&quot;VL_ERZET&quot;),'000000',&quot;VL_ERZET&quot;)</formula>
        </calculatedViewAttribute>
      </calculatedViewAttributes>
      <input node="#SERVICEGRADE_DELTA_PREQUERY_OPT">
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_AUZET" source="VL_AUZET"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_AUDAT" source="VL_AUDAT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_VGPOS" source="VL_VGPOS"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_VGBEL" source="VL_VGBEL"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_ERZET" source="VL_ERZET"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_ERDAT" source="VL_ERDAT"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_VBELN" source="VL_VBELN"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_POSNR" source="VL_POSNR"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_SOURSYSTEM" source="VL_SOURSYSTEM"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="XX_VWK_EIS_MOD" source="XX_VWK_EIS_MOD"/>
        <mapping xsi:type="Calculation:AttributeMapping" target="VL_LFART" source="VL_LFART"/>
      </input>
      <filter>&quot;DELTA&quot;='$$use_delta$$'</filter>
    </calculationView>


  </calculationViews>


  <!-- Logical model (Aggregation uzel) -->
  <logicalModel id="agg_result">
    <descriptions defaultDescription="Minimal Test View"/>
    <attributes>
      <attribute id="ID" order="1" attributeHierarchyActive="false" displayAttribute="false">
        <descriptions defaultDescription="ID"/>
        <keyMapping columnObjectName="join_ab" columnName="ID"/>
      </attribute>
      <attribute id="NAME" order="2" attributeHierarchyActive="false" displayAttribute="false">
        <descriptions defaultDescription="NAME"/>
        <keyMapping columnObjectName="join_ab" columnName="NAME"/>
      </attribute>
      <attribute id="CATEGORY" order="3" attributeHierarchyActive="false" displayAttribute="false">
        <descriptions defaultDescription="CATEGORY"/>
        <keyMapping columnObjectName="join_ab" columnName="CATEGORY"/>
      </attribute>
    </attributes>
    <baseMeasures>
      <measure id="AMOUNT" order="1" aggregationType="sum" measureType="simple">
        <descriptions defaultDescription="AMOUNT"/>
        <measureMapping columnObjectName="join_ab" columnName="AMOUNT"/>
      </measure>
      <measure id="PRICE" order="2" aggregationType="sum" measureType="simple">
        <descriptions defaultDescription="PRICE"/>
        <measureMapping columnObjectName="join_ab" columnName="PRICE"/>
      </measure>
    </baseMeasures>
    <calculatedMeasures/>
    <restrictedMeasures/>
    <localDimensions/>
  </logicalModel>

  <!-- Layout - pozice uzlů -->
  <layout>
    <shapes>
      <shape expanded="true" modelObjectName="Output" modelObjectNameSpace="MeasureGroup">
        <upperLeftCorner x="200" y="20"/>
        <rectangleSize height="0" width="0"/>
      </shape>
      <shape expanded="true" modelObjectName="agg_result" modelObjectNameSpace="CalculationView">
        <upperLeftCorner x="200" y="140"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="join_ab" modelObjectNameSpace="CalculationView">
        <upperLeftCorner x="200" y="260"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="union_all_a" modelObjectNameSpace="CalculationView">
        <upperLeftCorner x="60" y="380"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="proj_b" modelObjectNameSpace="CalculationView">
        <upperLeftCorner x="340" y="380"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="proj_a" modelObjectNameSpace="CalculationView">
        <upperLeftCorner x="-60" y="500"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="proj_a2" modelObjectNameSpace="CalculationView">
        <upperLeftCorner x="180" y="500"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="TABLE_A" modelObjectNameSpace="DataSource">
        <upperLeftCorner x="60" y="640"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
      <shape expanded="true" modelObjectName="TABLE_B" modelObjectNameSpace="DataSource">
        <upperLeftCorner x="340" y="500"/>
        <rectangleSize height="-1" width="-1"/>
      </shape>
    </shapes>
  </layout>

</Calculation:scenario>
